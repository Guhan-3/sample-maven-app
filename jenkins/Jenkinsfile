pipeline {
    agent {
  label 'Devserver'
}
parameters {
  string defaultValue: 'guna', name: 'Lastname'
}
    options {
        skipStagesAfterUnstable()
    }
    tools {
        maven 'mymaven'
    }
    environment {
        Name = "Guhan"
        }
    stages {
        stage('Build') {
            steps {
                sh 'mvn clean package'
                echo "hello $Name ${params.Lastname}"
            }
            
        }
        stage('test'){
            parallel{
                stage('testA'){
                    steps{
                            echo "this is test A"
                    }
                    
                }
                stage('testB'){
                    steps{
                            echo "this is test B"
                    }
                    
                }
            }
            post {
            success {
                archiveArtifacts artifacts:'**/target/*.jar'
                 }
            }
        }
    }

}
